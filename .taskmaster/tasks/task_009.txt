# Task ID: 9
# Title: Create Immediate Notification System
# Status: done
# Dependencies: 8
# Priority: high
# Description: Develop a system for sending immediate notifications for critical news.
# Details:
Implement logic to analyze incoming messages for criticality and send push notifications to users based on their preferences.

# Test Strategy:
Simulate critical messages and verify that notifications are sent to users as expected.

# Subtasks:
## 1. Создать NotificationService [done]
### Dependencies: None
### Description: Создать основной сервис для управления уведомлениями
### Details:
Реализовать NotificationService с методами для создания, отправки и управления уведомлениями

## 2. Реализовать детектор критических новостей [done]
### Dependencies: None
### Description: Создать логику определения критических сообщений на основе ИИ анализа
### Details:
Реализовать алгоритм, который определяет критичность сообщений на основе importance_score и пользовательских предпочтений

## 3. Создать компонент отправки уведомлений [done]
### Dependencies: None
### Description: Реализовать отправку push-уведомлений через Telegram Bot API
### Details:
Создать компонент для отправки уведомлений пользователям с учетом их предпочтений и тихих часов

## 4. Интегрировать в pipeline обработки [done]
### Dependencies: None
### Description: Интегрировать систему уведомлений в существующий pipeline обработки сообщений
### Details:
Добавить вызов системы уведомлений после ИИ анализа сообщений в общий workflow

## 5. Написать тесты для системы уведомлений [done]
### Dependencies: None
### Description: Создать unit и integration тесты для всех компонентов системы уведомлений
### Details:
Написать тесты для NotificationService, детектора критических новостей и отправки уведомлений

